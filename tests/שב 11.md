---
sources:
  - "[[discrete-hw-11.pdf]]"
---
## תרגיל 1
ראשית נגדיר את מרחב המדגם: $2^{|A|\cdot |B|}=2^{18}$ . מכיוון שאין מגבלה כך ש- $x\neq y\neq z$, אפשר להגדיר את השאלה מחדש בצורה הבאה: כמה יחסים $K$ כך ש- כל איבר ב- $A$ ביחס לפחות עם איבר אחד?
נגדיר את הקבוצה $A_{i}$ להיות קבוצת כל היחסים בהם ב- $i$ מתוך $|A|$ האיברים ב-$A$ אין כלל יחס. כלומר: $1\leq i\leq 3$ . כעט כל ידי שימוש בעקרון ההכלה נגדיר:
$$
o^* = 2^{18} - | A_{1} \cup A_{2} \cup A_{3}| 
$$
עבור $i=1$, יש כ- $\binom{3}{1}$ אפשרויות לבחור את האיבר עם היחס הריק, ו- $2^{6 \cdot (3-1)}$ אפשרויות סה״כ. נמשיך כך ונגיע לנוסחא:
$$
|A_{i}| = \binom{3}{i} 2^{6 \cdot (3-i)} \implies o^* =  2^{18}-\sum_{i=1}^{3} (-1)^{i-1} \binom{3}{i} 2 ^{6 \cdot (3-i)}
$$
אם נרצה מספר מפורש נקבל:
$$
O^* = 2^{18}- 3 \cdot 2^{12} + 3 \cdot 2^{6} - 1 
$$

## תרגיל 2
מרחב המדגם: $|\Omega|=9!$ , נגדיר 3 קבוצות: 
1. קבוצת כל הסידורים בהם 4 ליד 5: $A_{1}$ 
2. קבוצת כל הסידורים בהם 3 ליד 4: $A_{2}$ 
3. קבוצת כל הסידורים בהם 2 ליד 1: $A_{3}$ 
נשים לב שגודל כל הקבוצות הוא זהה. יש כ- 8 איברים לסידור בשורה, ו2 אפשרויות לסידור הפנימי של הזוג: $2 \cdot 8!$ 

על פי כללי דה-מורגן:
$$
\left|  \bigcap_{i=1}^{n}\bar{A}_{i} \right|  = |\Omega| - \left| \bigcup_{i=1}^{n}{A_{i}} \right| 
$$
וזה בדיוק מה שאנחנו מחפשים. כדיי לחשב את איחוד המשלימים (איחוד $A_{i}$) נשתמש בכלל ההכלה וההדחה, כאשר יש סה״כ 3 קבוצות. נסתכל על סכום הקבוצות, וסכום החיתוכים:
$$
\sum_{i=1}^{3}  |A_{i}| = 3 \cdot 2 \cdot 8! 
$$

נעבור ל- $\sum_{1\leq i \neq j \leq 3}|A_{i}\cap A_{j}|$ :
- חיתוך של $A_{1},A_{2}$: נקח את 3,4,5 כבלוק עם 2 סידורים פנימיים אפשריים, ואת יתר ה-6 איברים נסדר יחד עם הבלוק בשורה: $2! \cdot 7!$
- חיתוך של $A_{1},A_{3}$: יש 2 זוגות,2 סידוריים פנימיים לכל זוג, ו-5 איברים + 2 בלוקים אחרים לסדר בשורה: $2\cdot 2! \cdot 7!$ 
- חיתוך של $A_{2},A_{3}$ יהיה זהה בגודלו לאיחוד של $A_{1},A_{3}$ . 

סה״כ סכימת כל החיתוכים תהיה: 
$$
\sum_{1\leq i\leq j\leq 3} |A_{i}\cap A_{j}| = 10\cdot 7!
$$

כעט נגיע חיתוך 3 הקבוצות. נגדיר 2 בלוקים: $\{ 3,4,5 \}$ ו- $\{ 1,2 \}$ . ל-2 הבלוקים יש כ-2 סידורים פנימיים אפשרים (לכל אחד). נסדר את יתר 4 האיברים בשורה יחד עם 2 הבלוקים: $2\cdot 2! \cdot 6!=4 \cdot 6!$ . 

נשתמש בכלל ההכלה וההדחה:
$$
\left| \bigcup_{i=1}^{3} A_{i} \right| = 2 \cdot 3 \cdot 8! - 10\cdot 7! + 4 \cdot 6! 
$$
על כן סה״כ האפשרויות יהיו:
$$
|\Omega| - \left| \bigcup_{i=1}^{3}A_{i} \right|  = 9! + 10 \cdot 7! - 2\cdot 3 \cdot 8! - 4 \cdot 6!
$$
## תרגיל 3
### (א)
נסדר את הגברים בשורה הימנית, יש כ-$n!$ אפשרויות לסידור. כעט יש לעשות התאמה בסידור הנשים כך ששום אישה לא תשב אל מול בעלה. נגדיר את הקבוצה ה-$A_{i}$ להיות קבוצת כל הסידורים בהן לפחות $i$ נשים יושבות **מול** הבעלים שלהן. אנחנו מחפשים סידור כזה כך ש- $\left| \bigcap_{i=1}^{n}\bar{A_{i}} \right|$ וזה שקול ל- $|\Omega|-\left| \bigcup_{i=1}^{n}A_{i} \right|$ . 
עבור $i=1$, יש כ- $\binom{n}{1}$ אפשרויות לבחור אישה שתשב מול בעלה, ו- $(n-1)!$ אפשרויות להשיב את יתר הנשים. באופן דומה, עבור $i$ נשים, יש כ- $\binom{n}{i}$ בחירות של $i$ מתוך $n$ נשים, ו- $(n-i)!$ אפשרויות לסדר את יתר הנשים. כלומר, סך האפשרויות להושיב את כל הנשים בהנתן סידור של גברים וכך שאף אישה לא תשב מול בעלה יהיה:
$$
n!- \sum_{i=1}^{n}(-1)^{i-1} \binom{n}{i} (n-i)!
$$
ועבור כל אחד מ- $9!$ הסידורים האפשריים של הגברים, יש את מספר האפשרויות הללו על כן: 
$$
O^* = n!\left( n! - \sum_{i=1}^{n}(-1)^{i-1}\binom{n}{i}(n-i)! \right)
$$
### (ב)
הפעם, אין הגבלה של גברים ונשים, לכן מרחב המדגם עצמו יהיה כ- $(2n)!$ (סידור של $2n$ אנשים ב-$2n$ כסאות). נגדיר את הקבוצה $A_{i}$ להיות קבוצת כל הסידורים בהם **לפחות** $i$ זוגות יושבים אחד מול השני. עבור $A_{i}$ כללי, יש  כ- $\binom{n}{i}$ אפשרויות לבחור $i$ מתוך $n$ זוגות שישבו ביחד. יש להשיב את $i$ הזוגות ב- $i$ זוגות של כסאות מתוך $n$ הזוגות. כלומר בוחרים $i$ מתוך $n$ זוגות כסאות ללא חזרה ועם חשיבות לסדר-  $\frac{n!}{(n-i)!}$ סידורים אפשריים. לכל זוג יש 2 אפשרויות לבחור כיצד הם ישבו - סה״כ $2^{i}$ אפשרויות. שאר האנשים מסתדרים ביתר המקומות שנותרו: $(2n-2i)!$ . 
שוב פעם נשתמש בכללי דה מורגן, ונחשב בעצם  $|\Omega|-|\bigcup_{i=1}^{n}A_{i}|$ כדיי למצוא את $\left| \bigcap_{i=1}^{n}\bar{A}_{i} \right|$ . ונשתמש בכלל ההכלה וההדחה בשביל למצוא את גודל האיחוד:
$$
O^* = (2n)! - \sum_{i=1}^{n} \left(    (-1)^{i-1}\binom{n}{i} \cdot \frac{n!}{(n-i)!} \cdot 2^{i} \cdot (2n-2i)! \right)
$$
